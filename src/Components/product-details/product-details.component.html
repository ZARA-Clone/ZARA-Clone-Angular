<head>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>

<!-- Product Details -->
<div class="product-details d-flex justify-content-around">
      <div id="custom-scrollbar" class="extra-info p-3" [ngStyle]="{
        'height': isExpanded ? '760px' : '250px',
        'overflow-y': isExpanded ? 'scroll' : 'hidden'
     }">
      <a href="#" class="showmore" (click)="toggleContent($event)" style="display:block;">{{isExpanded ? 'View Less' : 'View More'}}</a>
        <p>COMPOSITION & CARE</p>
        
        <p>COMPOSITION</p>
        We work with monitoring programmes to ensure compliance with our social, environmental and health and safety standards for our products. To assess compliance, we have developed a programme of audits and<br><br> continuous improvement 
        We work with monitoring programmes to ensure compliance with our social, environmental and health and safety standards for our products. To assess compliance, we have developed a programme of audits and continuous improvement 
        We work with monitoring programmes to ensure compliance with our social, environmental and health and safety standards for our products. To assess compliance, we have developed a programme of audits and continuous improvement 
        We work with monitoring programmes to ensure compliance with our social, environmental and health and safety standards for our products. To assess compliance, we have developed a programme of audits and continuous improvement 
        We work with monitoring programmes to ensure compliance with our social, environmental and health and safety standards for our products. To assess compliance, we have developed a programme of audits and continuous improvement 
        We work with monitoring programmes to ensure compliance with our social, environmental and health and safety standards for our products. To assess compliance, we have developed a programme of audits and continuous improvement 

      </div>
      <div class="combineddiv">
                <div class="product-img2">
                  <img id="product-img" [src]="selectedimg">
                </div>
          <div class="prosmulimgs2">
            <ul>
              @for(i of product.images ; track i){
                <li>
              <button (click)="Displayimg(i)">
                <div>
                  <img class="proimgs" [src]="i" [ngStyle]="{ 'opacity': selectedimg === i ? '1' : '0.4' }">
                </div>
              </button>
            </li>
            }
              </ul>
            </div>
        </div>



        <div class="product-img">
        <img id="product-img" [src]="selectedimg">
        </div>


        <div class="prosmulimgs">
          <ul>
            @for(i of product.images ; track $index){
                <li>
              <button (click)="Displayimg(i)">
                <div>
                  <img class="proimgs" [src]="i" [ngStyle]="{ 'opacity': selectedimg === i ? '1' : '0.4' }">
                </div>
              </button>
            </li>
            }
          </ul>
        </div>
      <div class="product-action">
        <div class="info p-3">
          <div class="bookmark" (click)="AddToWishList()" (click)="ToggleWishList2()">
            @if(addedtoWishlist2){
              <i class="fa-solid fa-bookmark"></i>
            }
            @else {
              <i class="fa-regular fa-bookmark"></i>
            }
            </div>
                      <p>{{product.name}}</p>
                      <p>{{product.price | egp}}</p>
                      <p>{{product.description}}</p>
                      CHECK IN-STORE AVAILABILITY
                      SHIPPING, EXCHANGES AND RETURNS</div>

                      
                      
<div class="p-3" style="border: 1px solid black;">
    <div class="row">
        <div class="col-sm-6">
            <div class="size-box" [ngClass]="{'selected': selectedSize === 'S', 'disabled': !isSizeAvailable(0)}" (click)="isSizeAvailable(0) ? selectSize('S') : null">S</div>
        </div>
        <div class="col-sm-6">
            <div class="size-box" [ngClass]="{'selected': selectedSize === 'M', 'disabled': !isSizeAvailable(1)}" (click)="isSizeAvailable(1) ? selectSize('M') : null">M</div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <div class="size-box" [ngClass]="{'selected': selectedSize === 'L', 'disabled': !isSizeAvailable(2)}" (click)="isSizeAvailable(2) ? selectSize('L') : null">L</div>
        </div>
        <div class="col-sm-6">
            <div class="size-box" [ngClass]="{'selected': selectedSize === 'XL', 'disabled': !isSizeAvailable(3)}" (click)="isSizeAvailable(3) ? selectSize('XL') : null">XL</div>
        </div>
    </div>
</div>




     

    <div class="addbutton" [ngClass]="{'addbutton2' : selectedSize!=''}" (click)="AddToCart()">ADD</div>
  </div>
  <div class="contact-us p-2" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="fa-solid fa-comment m-2"></i>Chat</div>
  <div class="contact-us2 p-2"><i class="fa-solid fa-comment m-2"></i></div>


  <!--Pop up-->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Email</label>
            <input type="text" class="form-control" id="recipient-name">
          </div>
          <div class="mb-3">
            <label for="message-text" class="col-form-label" aria-placeholder="Message">Message</label>
            <textarea class="form-control" id="message-text"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="msgbtn">Send message</button>
      </div>
    </div>
  </div>
</div>
<!--Pop up-->

</div>

<!--product-details-->


<div style="height: 300px;"></div>

<div style="margin-left: 32px"><p>YOU MAY ALSO LIKE</p></div>
<!--product card-->
<ul class="product-list">
  @for(p of newlife; track p.id){
    <li>
    <div class="imgandadd">
      <div class="image-container">
        <img style="cursor: pointer;" src="{{p.imgUrl}}">
        <div class="sizing-container" id="sizing-container" appClickOutside (clickOutside)="hideDiv(p)" [ngClass]="{'sizing-container2':p.showDetails}">
          
      <div class="row">
    <div class="col-sm-6">
        <div class="size-box2" (click)="AddToCartDirect(p);" [ngClass]="{'selected': selectedSize === 'S', 'disabled': !isAvailable(p, 0)}" (click)="isAvailable(p, 0) ? selectSize('S') : null">S</div>
    </div>
    <div class="col-sm-6">
        <div class="size-box2" (click)="AddToCartDirect(p);" [ngClass]="{'selected': selectedSize === 'M', 'disabled': !isAvailable(p, 1)}" (click)="isAvailable(p, 1) ? selectSize('M') : null">M</div>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <div class="size-box2" (click)="AddToCartDirect(p);" [ngClass]="{'selected': selectedSize === 'L', 'disabled': !isAvailable(p, 2)}" (click)="isAvailable(p, 2) ? selectSize('L') : null">L</div>
    </div>
    <div class="col-sm-6">
        <div class="size-box2" (click)="AddToCartDirect(p);" [ngClass]="{'selected': selectedSize === 'XL', 'disabled': !isAvailable(p, 3)}" (click)="isAvailable(p, 3) ? selectSize('XL') : null">XL</div>
    </div>
</div>



        </div>
        <div class="plus-icon" (click)="toggleSizes($event,p)"><i class="fa-solid fa-plus"></i></div>
      </div>
    </div>
    <div class="nameandprice p-3">
      <div class="productname" style="display: inline-block;"><a>{{p.name}}</a></div>
      <div class="bookmarkalso" (click)="ToggleWishList(p)">
        @if(p.wishlist){
          <i class="fa-solid fa-bookmark"></i>
        }
        @else {
          <i class="fa-regular fa-bookmark"></i>
        }
        </div>
      <div>{{p.price | egp}}</div>
    </div>
  </li>

  }
  
</ul>





